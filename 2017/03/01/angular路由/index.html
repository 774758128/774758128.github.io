

<!DOCTYPE html>
<html lang="null">
<head prefix="og: http://ogp.me/ns#">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <meta name="description" content="null">
    <title>angular路由 | Web</title>

    <!-- Open Graph -->
    <meta name="description" content="$http
文档：https://docs.angularjs.org/api/ng/service/$http


$http
类似于 $.ajax


$http.get
类似于 $.get


$http.post
$http.put
$http.delete
$http.jsonp
$http.patch

ngRoute基本使用一：安装
1npm install --save angul">
<meta property="og:type" content="article">
<meta property="og:title" content="angular路由">
<meta property="og:url" content="http://yoursite.com/2017/03/01/angular路由/index.html">
<meta property="og:site_name" content="Web">
<meta property="og:description" content="$http
文档：https://docs.angularjs.org/api/ng/service/$http


$http
类似于 $.ajax


$http.get
类似于 $.get


$http.post
$http.put
$http.delete
$http.jsonp
$http.patch

ngRoute基本使用一：安装
1npm install --save angul">
<meta property="og:updated_time" content="2017-03-01T11:44:39.794Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="angular路由">
<meta name="twitter:description" content="$http
文档：https://docs.angularjs.org/api/ng/service/$http


$http
类似于 $.ajax


$http.get
类似于 $.get


$http.post
$http.put
$http.delete
$http.jsonp
$http.patch

ngRoute基本使用一：安装
1npm install --save angul">

    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Person",
  "email": "mailto:undefined",
  "image": "undefined",
  "name": "Hack Yang",
  "url": "http://yoursite.com"
}
</script>
    <script>
    var algoliaEnabled = false;
    
</script>

    

    
    
        <link href="https://fonts.gmirror.org/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
    
    
    
        <!-- stylesheets list from config.yml -->
        
        <link rel="stylesheet" href="/css/aloha.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/magnific-popup.js/1.1.0/magnific-popup.min.css">
        
    

</head>
<body id="body" style="margin-bottom: 0;" class="pushable">

    <div class="ui top fixed menu">
        <a class="item" id="menu-icon"><i class="sidebar icon"></i></a>
    </div>

    <div id="menu-sidebar" class="ui left vertical sidebar menu">

    <div id="sidebar-top">
        <div class="content">
            <h3>Web</h3>
        </div>
    </div>
    <div class="ui container sidebar-card">
    <div class="ui people shape content">
        <div class="active side">
            <div class="ui card">
                <div class="image">
                    <img class="ui medium bordered image" src="/images/avatar.jpg">
                </div>
                <div class="content">
                    <a class="header">Hack Yang</a>
                    
                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                        
                    </div>

                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

    
    

    

    
    <a href="/index.html" class="item" >
        <i class="home icon"></i>
        HOME
    </a>

    

    
</div>

    <div class="pusher body-content">
        <div id="content" class="ui main container">
            <!--<div class="ui one column grid">-->
                <!--<div class="column">-->
                    <!--<div class="ui main container">-->
                        <div id="post-angular路由" class="ui main container article-type-post">

    

    <div class="ui divided grid">

        <div class="two column row" id="article-content">

            <div class="thirteen wide computer thirteen wide tablet sixteen wide mobile column">
                

<h1 class="ui header">
    
    angular路由
</h1>



                <div class="article-inner">

                    <div class="article-entry" itemprop="articleBody">
                        
                        <h2 id="http"><a href="#http" class="headerlink" title="$http"></a>$http</h2><blockquote>
<p>文档：<a href="https://docs.angularjs.org/api/ng/service/$http" target="_blank" rel="external">https://docs.angularjs.org/api/ng/service/$http</a></p>
</blockquote>
<ul>
<li>$http<ul>
<li>类似于 $.ajax</li>
</ul>
</li>
<li>$http.get<ul>
<li>类似于 $.get</li>
</ul>
</li>
<li>$http.post</li>
<li>$http.put</li>
<li>$http.delete</li>
<li>$http.jsonp</li>
<li>$http.patch</li>
</ul>
<h2 id="ngRoute"><a href="#ngRoute" class="headerlink" title="ngRoute"></a>ngRoute</h2><h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><p>一：安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save angular-route</div></pre></td></tr></table></figure>
<p>二：引包</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular-route.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>三：加载依赖</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'app'</span>, [<span class="string">'ngRoute'</span>])</div></pre></td></tr></table></figure>
<p>四：配置路由</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'app'</span>, [<span class="string">'ngRoute'</span>])</div><div class="line">  .config([<span class="string">'$routeProvider'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$routeProvider</span>) </span>&#123;</div><div class="line">    $routeProvider</div><div class="line">     .when(<span class="string">'/Book/:bookId'</span>, &#123;</div><div class="line">        <span class="attr">templateUrl</span>: <span class="string">'book.html'</span>,</div><div class="line">        <span class="attr">controller</span>: <span class="string">'BookController'</span>,</div><div class="line">      &#125;)</div><div class="line">      .when(<span class="string">'/Book/:bookId/ch/:chapterId'</span>, &#123;</div><div class="line">        <span class="attr">templateUrl</span>: <span class="string">'chapter.html'</span>,</div><div class="line">        <span class="attr">controller</span>: <span class="string">'ChapterController'</span></div><div class="line">      &#125;);</div><div class="line">  &#125;])</div></pre></td></tr></table></figure>
<p>五：在 HTML 中留坑</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- ng-view 指令就是用来配合路由使用的，路由会将匹配到的路由指定的 HTML 模板渲染到通过 ng-view 留坑的位置 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-view</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="与路由相关的一些配套-API"><a href="#与路由相关的一些配套-API" class="headerlink" title="与路由相关的一些配套 API"></a>与路由相关的一些配套 API</h3><ul>
<li>ngView<ul>
<li>留坑，标记被路由替换处理的位置</li>
</ul>
</li>
<li>$routeProvider<ul>
<li>配置路由表</li>
<li>根据不同的请求路径执行对应的控制器及渲染对应的HTML视图模板</li>
<li>when(path: String, route: Object)<ul>
<li>route<ul>
<li>controller</li>
<li>template</li>
<li>templateUrl</li>
<li>redirectTo</li>
</ul>
</li>
</ul>
</li>
<li>otherwise(params: Object | String)</li>
</ul>
</li>
<li>$route<ul>
<li>$route.reload() 重载当前路由</li>
<li>$route.updateParams(Object) 更新路由中的动态路径参数</li>
</ul>
</li>
<li>$routeParams<ul>
<li>用来获取路由参数</li>
<li>例如：/user/:id 是一个动态路径，则可以在控制器中通过 $routeParams 获取 :id 的值</li>
<li>也可以获取查询字符串中的参数，例如请求路径是 /user?id=1 则通过 $routeParams 也可以获取到</li>
</ul>
</li>
</ul>
<h2 id="Controller-as-vm"><a href="#Controller-as-vm" class="headerlink" title="Controller as vm"></a>Controller as vm</h2><p>ng 1.2 引入了新的语法：<code>Controller as</code>。<br>在此之前的版本需要在 Controller 中注入 <code>$scope</code> 这个视图模型服务对象，才能在视图绑定中使用这些变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'app'</span>, [])</div><div class="line">  .controller(<span class="string">'DemoController'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">    $scope.foo = <span class="string">'bar'</span></div><div class="line">  &#125;])</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"app"</span> <span class="attr">ng-controller</span>=<span class="string">"DemoController"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello &#123;&#123; foo &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>在 Controller 中我们需要显示的注入 <code>$scope</code>，对于 Controller 来说，<br><code>$scope</code> 几乎就是我们必须使用的对象，每次都需要这个参数，这样的话就不太方便，<br>所以在 1.2 之后加入了 <code>controller as</code> 语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'app'</span>, [])</div><div class="line">  .controller(<span class="string">'DemoController'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.foo = <span class="string">'bar'</span></div><div class="line">  &#125;])</div></pre></td></tr></table></figure>
<p>html 内容如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"app"</span> <span class="attr">ng-controller</span>=<span class="string">"DemoController as demo"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello &#123;&#123; demo.foo &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>在这里 Controller 中并没有注入 <code>$scope</code> 服务，Controller 看起来更接近普通的 JavaScript 对象。<br>而通过访问 Controller 内部的 <code>this</code> 其实就是我们原来的 <code>$scope</code>。<br>在视图绑定控制器的时候，一定要记得通过 <code>controller as 名称</code> 的方式起个别名才可以使用。</p>
<p>这样做的话还有一个好处，当多重 Controller 作用域嵌套的场景下，<br>由于每个字段方法都会缓存在其 <code>controller as</code> 对应的别名对象上，<br>所以在 Controller 嵌套时不会再出现命名冲突的问题。</p>
<h3 id="controller-as-推荐用法"><a href="#controller-as-推荐用法" class="headerlink" title="controller as 推荐用法"></a>controller as 推荐用法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'app'</span>, [])</div><div class="line">  .controller(<span class="string">'DemoController'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> vm = <span class="keyword">this</span></div><div class="line">    vm.foo = <span class="string">'bar'</span></div><div class="line">  &#125;])</div></pre></td></tr></table></figure>
<p>vm 就是 ViewModel，定义 vm 会让我们更好的避免关于 JavaScript 中的 this 指针的一些坑。</p>

                        
                    </div>

                    
                    
                    

                    <div class="description post-description">
    <span class="post-description-item">
        <time datetime="2017-03-01T11:42:41.000Z" itemprop="datePublished">2017-03-01</time>

    </span>
    <span class="post-description-item">
        
    </span>
</div>

                </div>
                
                <div id="pagination" class="nav-web ui text container pagination">

    <div class="ui stackable two column divided grid container">
        <div class="row">
            <div class="column nav-left">
                

                <a class="ui tiny button disabled"><i class="angle left icon"></i>Previous</a>

                
            </div>
            <div class="column nav-right">
                

                <a href="/2017/03/01/hello-world/" class="ui tiny button">
                    
                    Hello World
                    
                    <i class="angle right icon"></i></a>
                
            </div>
        </div>
    </div>

</div>
                
            </div>

            
            <div class="three wide computer three wide tablet column">

                <div class="ui sticky article-toc" id="article-toc">
                    <!-- toc -->
                    <ol class="ui ordered list"><li><a href="#http"><span>$http</span></a></li><li><a href="#ngRoute"><span>ngRoute</span></a><ol><li><a href="#基本使用"><span>基本使用</span></a></li><li><a href="#与路由相关的一些配套-API"><span>与路由相关的一些配套 API</span></a></li></ol></li><li><a href="#Controller-as-vm"><span>Controller as vm</span></a><ol><li><a href="#controller-as-推荐用法"><span>controller as 推荐用法</span></a></li></ol></li></ol>
                </div>

            </div>
            

        </div>
    </div>
</div>


                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <div class="ui vertical footer segment">
    <div class="ui center aligned container">
        <div class="ui inverted section divider"></div>
        &copy; 2017 <a href="/">Hack Yang</a>,
        Powered by <a href="https://github.com/henryhuang/hexo-theme-aloha" target="_blank">Aloha</a> and <a
                href="http://hexo.io/" target="_blank">Hexo</a>.
    </div>
</div>

    </div>




<!-- scripts list from theme config.yml -->

<script src="//cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>

<script src="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch/3.18.1/algoliasearch.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch-helper-js/2.13.0/algoliasearch.helper.min.js"></script>

<script src="/js/semantic-ui-algolia.js"></script>

<script src="/js/aloha-events.js"></script>



</body>
</html>
